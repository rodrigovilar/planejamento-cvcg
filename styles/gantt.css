    .toolbar {
      position: sticky;
      top: 0;
      z-index: 100;
      background: #1e293b;
      color: #fff;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, .2)
    }

    .toolbar h1 {
      font-size: 16px;
      font-weight: 600;
      flex: 1
    }

    .toolbar button {
      background: #334155;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 4px 10px;
      cursor: pointer;
      font-size: 13px
    }

    .toolbar button:hover {
      background: #475569
    }

    #resetZoomBtn {
      background: #0f172a
    }

    .zoom-label {
      font-size: 12px;
      color: #94a3b8
    }

    .search-box {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-left: auto
    }

    .search-box input {
      background: #334155;
      color: #fff;
      border: 1px solid #475569;
      border-radius: 4px;
      padding: 4px 10px;
      font-size: 13px;
      width: 220px;
      outline: none;
      transition: border-color .15s
    }

    .search-box input::placeholder {
      color: #94a3b8
    }

    .search-box input:focus {
      border-color: #93c5fd
    }

    .search-box .search-count {
      font-size: 11px;
      color: #94a3b8;
      min-width: 50px
    }

    .search-box .clear-btn {
      background: none;
      border: none;
      color: #94a3b8;
      cursor: pointer;
      font-size: 16px;
      padding: 0 4px;
      line-height: 1
    }

    .search-box .clear-btn:hover {
      color: #fff
    }

    .highlight {
      background: #fbbf24;
      color: #1e293b;
      border-radius: 2px;
      padding: 0 1px
    }

    .legend {
      position: sticky;
      top: 44px;
      z-index: 99;
      background: #f1f5f9;
      border-bottom: 1px solid #e2e8f0;
      padding: 6px 16px;
      display: flex;
      gap: 16px;
      flex-wrap: wrap
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 11px;
      color: #475569
    }

    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%
    }

    .chart-wrap {
      overflow-x: auto;
      overflow-y: auto;
      position: relative;
      max-width: 100vw
    }

    .chart {
      display: flex;
      min-width: max-content
    }

    .labels {
      width: var(--label-w);
      min-width: var(--label-w);
      position: sticky;
      left: 0;
      z-index: 50;
      background: #f8fafc;
      border-right: 2px solid #cbd5e1
    }

    .label-row {
      height: var(--row-h);
      display: flex;
      align-items: center;
      padding: 0 8px;
      border-bottom: 1px solid #f1f5f9;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      cursor: default
    }

    .label-row:hover {
      background: #e2e8f0
    }

    .label-section {
      font-weight: 700;
      font-size: 13px;
      color: #fff;
      cursor: pointer;
      user-select: none;
      padding-left: 4px
    }

    .label-group {
      font-weight: 600;
      font-size: 12px;
      color: #334155;
      padding-left: 16px;
      cursor: pointer;
      user-select: none;
      background: #f1f5f9
    }

    .label-item {
      font-size: 12px;
      color: #475569;
      padding-left: 28px
    }

    .label-item.no-date {
      color: #94a3b8;
      font-style: italic
    }

    .collapse-icon {
      margin-right: 4px;
      font-size: 10px;
      display: inline-block;
      transition: transform .15s
    }

    .collapsed .collapse-icon {
      transform: rotate(-90deg)
    }

    .doc-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
      margin-left: auto;
      flex-shrink: 0;
      cursor: pointer;
      border-radius: 3px;
      font-size: 14px;
      opacity: .6;
      transition: opacity .15s, background .15s
    }

    .doc-btn:hover {
      opacity: 1;
      background: rgba(0, 0, 0, .08)
    }

    .group-name {
      flex: 1;
      overflow: hidden;
      text-overflow: ellipsis
    }

    .timeline {
      flex: 1;
      position: relative
    }

    .month-header-row {
      display: flex;
      position: sticky;
      top: 0;
      z-index: 40;
      height: 24px
    }

    .month-header {
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 12px;
      color: #334155;
      border-right: 1px solid #cbd5e1;
      border-bottom: 1px solid #cbd5e1;
      cursor: zoom-in;
      user-select: none;
      transition: background-color .12s ease
    }

    .month-header:nth-child(odd) {
      background: #e2e8f0
    }

    .month-header:nth-child(even) {
      background: #f1f5f9
    }

    .month-header:hover {
      background: #dbeafe
    }

    .week-header-row {
      display: flex;
      position: sticky;
      top: 24px;
      z-index: 39;
      height: 20px;
      border-bottom: 2px solid #cbd5e1
    }

    .week-header {
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 10px;
      color: #475569;
      border-right: 1px solid #e2e8f0;
      background: #f8fafc;
      cursor: zoom-in;
      user-select: none;
      transition: background-color .12s ease
    }

    .week-header:nth-child(odd) {
      background: #f8fafc
    }

    .week-header:nth-child(even) {
      background: #f1f5f9
    }

    .week-header:hover {
      background: #dbeafe
    }

    .tl-row {
      height: var(--row-h);
      position: relative;
      border-bottom: 1px solid #f1f5f9;
      display: flex
    }

    .tl-row.section-row {
      border-bottom: 1px solid #cbd5e1
    }

    .tl-row.group-row {
      background: rgba(241, 245, 249, .5)
    }

    .month-cell {
      border-right: 1px solid #e2e8f0;
      position: relative;
      display: inline-block;
      height: 100%
    }

    .month-cell:nth-child(odd) {
      background: rgba(226, 232, 240, .15)
    }

    .day-cell {
      border-right: 1px solid #e2e8f0;
      position: relative;
      display: inline-block;
      height: 100%
    }

    .day-cell:nth-child(odd) {
      background: rgba(226, 232, 240, .18)
    }

    .day-cell:nth-child(even) {
      background: rgba(241, 245, 249, .45)
    }

    .evt {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 8px;
      height: 8px;
      border-radius: 50%;
      z-index: 10;
      cursor: pointer;
      transition: transform .1s
    }

    .evt:hover {
      transform: translate(-50%, -50%) scale(1.8);
      z-index: 20;
      box-shadow: 0 0 0 3px rgba(255, 255, 255, .8), 0 0 0 5px currentColor
    }

    .evt:active {
      transform: translate(-50%, -50%) scale(1.4)
    }

    .evt-range {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      height: 6px;
      border-radius: 3px;
      z-index: 10;
      cursor: pointer;
      opacity: .8
    }

    .evt-range:hover {
      opacity: 1;
      height: 10px;
      transform: translateY(-50%);
      z-index: 20;
      box-shadow: 0 0 0 2px rgba(255, 255, 255, .8)
    }

    .evt-range:active {
      opacity: .6
    }

    .evt.milestone {
      width: 10px;
      height: 10px;
      border-radius: 1px;
      transform: translate(-50%, -50%) rotate(45deg)
    }

    .evt.milestone:hover {
      transform: translate(-50%, -50%) rotate(45deg) scale(1.5)
    }

    .today-line {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      background: #ef4444;
      z-index: 30;
      pointer-events: none
    }

    .today-label {
      position: absolute;
      top: 2px;
      background: #ef4444;
      color: #fff;
      font-size: 9px;
      padding: 1px 4px;
      border-radius: 2px;
      white-space: nowrap;
      transform: translateX(-50%)
    }

    .tooltip {
      position: fixed;
      background: #1e293b;
      color: #fff;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      max-width: 340px;
      pointer-events: none;
      z-index: 200;
      box-shadow: 0 4px 12px rgba(0, 0, 0, .3);
      line-height: 1.5
    }

    .tooltip .tt-title {
      font-weight: 700;
      font-size: 13px;
      margin-bottom: 2px;
      color: #93c5fd
    }

    .tooltip .tt-date {
      color: #fbbf24;
      font-size: 11px
    }

    .tooltip .tt-detail {
      margin-top: 4px;
      color: #e2e8f0;
      font-size: 11px
    }

    .tooltip .tt-detail span {
      display: block;
      padding: 1px 0
    }

    /* MODAL / PAINEL */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, .45);
      z-index: 900;
      display: none;
      justify-content: flex-end
    }

    .modal-overlay.open {
      display: flex
    }

    .modal-panel {
      width: 520px;
      max-width: 90vw;
      height: 100%;
      background: #fff;
      box-shadow: -4px 0 24px rgba(0, 0, 0, .2);
      display: flex;
      flex-direction: column;
      animation: slideIn .2s ease-out
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%)
      }

      to {
        transform: translateX(0)
      }
    }

    .modal-header {
      padding: 16px 20px;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      align-items: center;
      gap: 12px;
      flex-shrink: 0
    }

    .modal-header h2 {
      flex: 1;
      font-size: 16px;
      font-weight: 700;
      color: #1e293b
    }

    .modal-close {
      width: 32px;
      height: 32px;
      border: none;
      background: #f1f5f9;
      border-radius: 6px;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #64748b
    }

    .modal-close:hover {
      background: #e2e8f0;
      color: #1e293b
    }

    .modal-badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      color: #fff;
      font-size: 11px;
      font-weight: 600
    }

    .modal-body {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      font-size: 13px;
      line-height: 1.7;
      color: #334155
    }

    .modal-body h3 {
      font-size: 14px;
      font-weight: 700;
      color: #1e293b;
      margin: 16px 0 6px;
      padding-bottom: 4px;
      border-bottom: 1px solid #e2e8f0
    }

    .modal-body h3:first-child {
      margin-top: 0
    }

    .modal-body h4 {
      font-size: 13px;
      font-weight: 600;
      color: #475569;
      margin: 12px 0 4px
    }

    .modal-body ul {
      margin: 4px 0 8px 18px
    }

    .modal-body li {
      margin: 2px 0
    }

    .modal-body .info-grid {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 2px 12px;
      margin: 4px 0 8px
    }

    .modal-body .info-label {
      font-weight: 600;
      color: #64748b;
      font-size: 12px
    }

    .modal-body .info-value {
      color: #1e293b
    }

    .modal-body .cal-month {
      font-weight: 700;
      color: #1e293b;
      margin-top: 10px
    }

    .modal-body .cal-entry {
      padding-left: 12px;
      color: #475569
    }

    .modal-body .note {
      background: #fef3c7;
      border-left: 3px solid #f59e0b;
      padding: 6px 10px;
      border-radius: 0 4px 4px 0;
      margin: 8px 0;
      font-size: 12px
    }

    .modal-body table {
      width: 100%;
      border-collapse: collapse;
      margin: 8px 0;
      font-size: 12px
    }

    .modal-body th {
      background: #f1f5f9;
      text-align: left;
      padding: 4px 8px;
      font-weight: 600;
      border: 1px solid #e2e8f0
    }

    .modal-body td {
      padding: 4px 8px;
      border: 1px solid #e2e8f0
    }
